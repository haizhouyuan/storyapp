# COPPA合规性指南

## 概述

本文档说明StoryApp如何遵守《儿童在线隐私保护法》(COPPA)的要求，确保3-8岁儿童用户的隐私安全。

## 合规措施

### 1. 数据最小化原则

- **用户交互数据**: 仅记录匿名化的交互类型，不收集个人身份信息
- **会话追踪**: 使用临时session ID，不持久化存储
- **时长限制**: 用户会话记录最长1小时，超出部分自动截断

### 2. 家长控制机制

- **家长同意**: 13岁以下用户需家长同意才能使用
- **数据访问权**: 家长可查看和删除儿童的使用数据
- **使用限制**: 支持家长设置使用时间限制

### 3. 安全保护措施

- **数据加密**: 所有数据传输使用HTTPS加密
- **访问控制**: 严格的权限控制和审计日志
- **定期清理**: 用户数据30天自动过期删除

### 4. 内容安全

- **AI内容过滤**: 所有AI生成的故事内容都经过安全性检查
- **适龄内容**: 确保所有内容适合3-8岁儿童
- **不当内容举报**: 提供内容举报机制

## 技术实现

### 匿名化指标收集

```typescript
export const recordUserInteraction = (
  interactionType: string,
  storyLength: string,
  userType: string, // 仅记录类型，不记录身份
  sessionStartTime?: number
) => {
  // 仅记录匿名化数据，符合COPPA要求
  storyInteractions.inc({
    interaction_type: interactionType,
    story_length: storyLength,
    user_type: userType,
  });
};
```

### 数据保留策略

- **日志数据**: 30天自动清理
- **会话数据**: 24小时内清除
- **故事内容**: 用户主动删除或30天过期

## 合规检查清单

- [ ] 获得家长明确同意
- [ ] 数据收集最小化
- [ ] 提供数据删除功能
- [ ] 实施安全措施
- [ ] 定期合规审查
- [ ] 员工培训计划

## 联系方式

如有隐私相关问题，请联系：
- 邮箱: privacy@storyapp.com
- 地址: [公司地址]

## 更新记录

- 2025-09-13: 初始版本，建立基础合规框架