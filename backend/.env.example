# 环境变量配置模板
# 复制此文件为 .env 并填入真实值

# 应用端口
PORT=5000

# MongoDB 副本集配置（根据部署环境更新）
MONGODB_URI=mongodb://storyapp_app:StoryAppApp!234@storyapp-mongo-primary:27017,storyapp-mongo-secondary:27017/storyapp?replicaSet=storyapp-rs&authSource=admin&retryWrites=true&w=majority&tls=true
MONGODB_DB_NAME=storyapp
MONGODB_TLS_CA_FILE=./config/mongo/tls/ca.pem
# 可选：开启客户端证书
# MONGODB_TLS_CERT_FILE=./config/mongo/tls/client.pem

# 连接池与超时调优（生产环境建议根据实例规格调整）
MONGODB_MAX_POOL_SIZE=50
MONGODB_MIN_POOL_SIZE=5
MONGODB_MAX_IDLE_TIME_MS=30000
MONGODB_CONNECT_TIMEOUT_MS=20000
MONGODB_SOCKET_TIMEOUT_MS=60000
MONGODB_SERVER_SELECTION_TIMEOUT_MS=30000
MONGODB_WAIT_QUEUE_TIMEOUT_MS=5000
MONGODB_READ_PREFERENCE=primaryPreferred
MONGODB_RETRY_WRITES=true

# DeepSeek API 配置
# ⚠️ 重要安全提醒：不要在代码中硬编码API key！
# 生产环境应从安全的密钥管理系统获取
DEEPSEEK_API_KEY=your_deepseek_api_key_here
DEEPSEEK_API_URL=https://api.deepseek.com

# 日志配置
ENABLE_DETAILED_LOGGING=true
ENABLE_DB_LOGGING=true
LOG_LEVEL=info
LOG_RETENTION_DAYS=30

# 前端URL（开发环境）
FRONTEND_URL=http://localhost:3000

# 环境标识
NODE_ENV=development

# 🔐 API Key 安全使用指南：
# 1. 生产环境：使用GitHub Secrets或密钥管理服务
# 2. 测试环境：如无有效API key，系统将自动使用mock模式
# 3. 开发环境：使用临时测试API key，不要提交到代码仓库
# 4. 定期轮换API key以确保安全性
# 5. 避免在日志中记录API key信息
