# 生产环境配置模板
# 复制此文件为 .env.prod 并填入实际值

# DeepSeek API 配置（必须）
DEEPSEEK_API_KEY=sk-your-production-api-key-here
DEEPSEEK_API_URL=https://api.deepseek.com
DEEPSEEK_MODEL=deepseek-chat
DEEPSEEK_MAX_TOKENS=4000
DEEPSEEK_TEMPERATURE=0.7

# 数据库配置
MONGODB_URI=mongodb://mongo:27017/storyapp
MONGODB_DB_NAME=storyapp
MONGO_USER=admin
MONGO_PASS=your-secure-password-here

# 应用配置
NODE_ENV=production
PORT=5000
FRONTEND_URL=https://storyapp.dandanbaba.xyz
APP_NAME=storyapp-production
APP_VERSION=1.0.0

# 日志配置
LOG_LEVEL=info
ENABLE_DETAILED_LOGGING=true
ENABLE_DB_LOGGING=true
LOG_RETENTION_DAYS=30
LOG_FORMAT=json

# 监控配置
METRICS_ENABLED=true
METRICS_ENDPOINT=/metrics
METRICS_MEMORY_UPDATE_INTERVAL=30000

# 安全配置
TRUST_PROXY=true
CORS_ORIGINS=https://storyapp.dandanbaba.xyz
HSTS_MAX_AGE=31536000
HSTS_INCLUDE_SUBDOMAINS=true
HSTS_PRELOAD=true

# 速率限制
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX=100
RATE_LIMIT_AUTH_WINDOW_MS=900000
RATE_LIMIT_AUTH_MAX=5
RATE_LIMIT_CREATE_PROJECT_WINDOW_MS=3600000
RATE_LIMIT_CREATE_PROJECT_MAX=10
RATE_LIMIT_VALIDATION_WINDOW_MS=300000
RATE_LIMIT_VALIDATION_MAX=20

# 数据库连接配置
DB_MAX_POOL_SIZE=10
DB_MIN_POOL_SIZE=5
DB_MAX_IDLE_TIME_MS=30000
DB_SERVER_SELECTION_TIMEOUT_MS=5000

# 功能开关
FEATURE_METRICS=true
FEATURE_TRACING=false